(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[796],{1800:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/mask",function(){return n(7239)}])},1320:function(e,t,n){"use strict";n.d(t,{k:function(){return i}});var r=n(2784);let i=()=>{let[e,t]=(0,r.useState)({x:0,y:0}),n=e=>{t({x:e.clientX,y:e.clientY})};return(0,r.useEffect)(()=>(window.addEventListener("mousemove",n),()=>window.removeEventListener("mousemove",n)),[]),e}},7239:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var r=n(2228),i=n(2322),o=n(2784),l=n(9886),s=n(7846),a=n(7931),u=n(8165),c=n(1320);function d(){let e=(0,r.Z)(["\n  50% {\n    stroke-width: 20px;\n  }\n}"]);return d=function(){return e},e}function m(){return(0,i.jsxs)("div",{children:[(0,i.jsx)(h,{}),(0,i.jsx)("hr",{}),(0,i.jsx)(f,{}),(0,i.jsx)("hr",{}),(0,i.jsx)(p,{}),(0,i.jsx)("hr",{}),(0,i.jsx)(x,{}),(0,i.jsx)("hr",{}),(0,i.jsx)(g,{}),(0,i.jsx)("hr",{}),(0,i.jsx)(w,{})]})}function h(){let[e,t]=(0,o.useState)(!1);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("button",{onClick:()=>t(e=>!e),children:[e?"Close":"Open"," Mask"]}),(0,i.jsx)("svg",{style:{width:0,height:0},viewBox:"0 0 64 64",children:(0,i.jsx)("clipPath",{id:"cog",children:(0,i.jsx)("path",{d:"M4.6 0l5.2 57.5 23 6.5 23-6.5L61 0zm45.2 18.8h-27l.6 7.2h25.8l-2 21.8-14.4 4h-.2l-14.5-4-.9-11.1h7l.5 5.6 7.8 2.1 7.9-2.1.9-9.1H17l-1.9-21.4h35.4z"})})}),e?(0,i.jsx)(l.z,{sizes:{width:100,height:100,top:100,left:100,right:0,bottom:0,x:0,y:0},styles:{clickArea:(e,t)=>{let{top:n,left:r,width:i,height:o,windowWidth:l,windowHeight:s}=t;return{...e,clipPath:"polygon(0px 0px, 0px ".concat(s,"px, ").concat(r,"px ").concat(s,"px, ").concat(r,"px ").concat(n,"px, ").concat(r+i,"px ").concat(n,"px, ").concat(r+i,"px  ").concat(n+o,"px , ").concat(r,"px  ").concat(n+o,"px, ").concat(r,"px  ").concat(s,"px, ").concat(l,"px  ").concat(s,"px, ").concat(l,"px 0px)"),color:"red"}}},onClick:()=>t(!1)}):null]})}function f(){let[e,t]=(0,o.useState)(!1);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("button",{onClick:()=>t(e=>!e),children:[e?"Close":"Open"," Mask"]}),e?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.z,{sizes:{width:100,height:100,top:100,left:100,right:0,bottom:0,x:100,y:100},onClick:()=>t(!1)}),(0,i.jsx)(l.z,{sizes:{width:50,height:50,top:50,left:50,right:0,bottom:0,x:50,y:50},onClick:()=>t(!1)}),(0,i.jsx)(l.z,{maskId:"my-mask",clipId:"my-clip",sizes:{width:250,height:250,top:250,left:250,right:0,bottom:0,x:250,y:250},onClick:()=>t(!1)})]}):null]})}function p(){let[e,t]=(0,o.useState)(!1),{x:n,y:r}=(0,c.k)();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("button",{onClick:()=>t(e=>!e),children:[e?"Close":"Open"," Mask"]}),e?(0,i.jsx)(l.z,{sizes:{width:Math.max(.5*n,50),height:Math.max(.5*r,50),top:r-50,left:n-50,right:0,bottom:0,x:n-50,y:r-50},onClick:()=>t(!1)}):null]})}function x(){let[e,t]=(0,o.useState)(!1),[n,r]=(0,o.useState)("box"),u=(0,o.useRef)(null),c=(0,o.useRef)(null),[d,m]=(0,o.useState)([]),h=(0,s.EL)("box"===n?u:c,d);return(0,o.useEffect)(()=>{let e=()=>m([]);return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("button",{onClick:()=>t(e=>!e),style:{marginBottom:"1em"},children:[e?"Close":"Open"," Mask to Highlight"," ","box"===n?"Box":"Paragraph"]})," ",(0,i.jsx)("br",{}),(0,i.jsxs)("button",{onClick:()=>r(e=>"box"===e?"p":"box"),children:["Switch to Highlight ","box"===n?"Paragraph":"Box"]}),(0,i.jsx)("p",{ref:c,children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. mauris ante. Fusce at ante nunc. Maecenas ut leo eu erat porta fermentum."}),(0,i.jsx)(a.E.div,{ref:u,drag:!0,onDragEnd:(e,t)=>m([t.point.x,t.point.y]),style:{width:100,height:100,backgroundColor:"#5ae",padding:10,borderRadius:10},children:"Element to be highlighted"}),e?(0,i.jsx)(l.z,{sizes:h,wrapperPadding:20,onClick:()=>t(!1)}):null]})}function g(){let[e,t]=(0,o.useState)(!1),[n,r]=(0,o.useState)("#1aafa1"),a=(0,o.useRef)(null),u=(0,s.EL)(a);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("button",{onClick:()=>t(e=>!e),ref:a,children:[e?"Close":"Open"," Mask"]}),e?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("input",{type:"color",value:n,onInput:e=>{r(e.target.value)},style:{position:"fixed",bottom:"1em",left:"1em",zIndex:1999999}}),(0,i.jsx)(l.z,{sizes:u,onClick:()=>t(!1),styles:{maskWrapper:e=>({...e,color:n,opacity:.99}),maskArea:e=>({...e,rx:10}),clickArea:(e,t)=>{let{top:n,left:r,width:i}=t;return console.log({top:n,left:r,width:i}),{...e,width:20,height:20,x:r+i+5,y:n-27,fill:"#af2f60",clipPath:"polygon(20% 0%, 0% 20%, 30% 50%, 0% 80%, 20% 100%, 50% 70%, 80% 100%, 100% 80%, 70% 50%, 100% 20%, 80% 0%, 50% 30%)",cursor:"pointer"}},highlightedArea:(e,t)=>{let{x:n,y:r,width:i,height:o}=t;return{...e,display:"block",stroke:"#af2f60",strokeWidth:5,width:i+20,height:o+20,rx:10,x:n-10,y:r-10,pointerEvents:"none"}}}})]}):null]})}let v={maskWrapper:e=>({...e,color:"transparent"}),clickArea:e=>({...e,display:"none"}),highlightedArea:(e,t)=>({...e,display:"block",stroke:"#5ae",fill:"rgb(85, 170, 238,.5);",cursor:"pointer",strokeWidth:4,width:15,height:15,rx:100,x:t.x+10,y:t.y+10})};function w(){let[e,t]=(0,o.useState)(!1),[n,r]=(0,o.useState)([]),a=(0,o.useCallback)(()=>{let e=[{selector:'[data-item="1"]'},{selector:'[data-item="2"]'},{selector:'[data-item="3"]'}].map(e=>{let{selector:t}=e;return document.querySelector(t)});r(e.map(e=>(0,s.Dz)(e)))},[]);(0,o.useEffect)(()=>(a(),window.addEventListener("resize",a),window.addEventListener("scroll",a),()=>{window.removeEventListener("scroll",a),window.removeEventListener("resize",a)}),[a]);let u=(0,o.useRef)(null),c=(0,s.S1)(u,{}),d=c&&!!c.isIntersecting;return(0,i.jsxs)("div",{ref:u,children:[(0,i.jsxs)("button",{onClick:()=>t(e=>!e),children:[e?"Hide":"Show"," Dots"]}),(0,i.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus volutpat quam eu mauris euismod imperdiet. Nullam elementum fermentum neque a placerat. Vivamus sed dui nisi. Phasellus vel dolor interdum, accumsan eros ut, rutrum dolor. Etiam in leo urna. Vestibulum maximus vitae urna at congue. Vivamus lectus nisi, pellentesque at orci a, tempor lobortis orci. Praesent non lorem erat. Ut augue massa, aliquam in bibendum sed, euismod vitae magna. Nulla sit amet sodales augue. Curabitur in nulla in magna luctus porta et sit amet dolor. Pellentesque a magna enim. Pellentesque malesuada egestas urna, et pulvinar lorem viverra suscipit. Duis sit amet mauris ante. Fusce at ante nunc. Maecenas ut leo eu erat porta fermentum."}),(0,i.jsx)("button",{"data-item":"1",children:"Hello World"}),(0,i.jsxs)("p",{children:["Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus volutpat quam eu mauris euismod imperdiet. Nullam elementum fermentum neque a placerat. ",(0,i.jsx)("span",{"data-item":"2",children:"Vivamus sed dui nisi."})," ","Phasellus vel dolor interdum, accumsan eros ut, rutrum dolor. Etiam in leo urna. Vestibulum maximus vitae urna at congue. Vivamus lectus nisi, pellentesque at orci a, tempor lobortis orci. Praesent non lorem erat. Ut augue massa, aliquam in bibendum sed, euismod vitae magna. Nulla sit amet sodales augue."," ",(0,i.jsxs)("span",{"data-item":"3",children:["Curabitur in nulla in magna luctus porta et sit amet dolor."," "]}),"Pellentesque a magna enim. Pellentesque malesuada egestas urna, et pulvinar lorem viverra suscipit. Duis sit amet mauris ante. Fusce at ante nunc. Maecenas ut leo eu erat porta fermentum."]}),e&&d?n.map((e,t)=>(0,i.jsx)(l.z,{sizes:e,styles:v,onClickHighlighted:()=>alert("Highlighted Item ".concat(t+1))},"".concat(e.left,"_").concat(t))):null]})}(0,u.F4)(d())},9886:function(e,t,n){"use strict";n.d(t,{z:function(){return l}});var r=n(2784),i=n(7846),o={maskWrapper:()=>({opacity:.7,left:0,top:0,position:"fixed",zIndex:99999,pointerEvents:"none",color:"#000"}),svgWrapper:e=>{let{windowWidth:t,windowHeight:n,wpx:r,wpy:i}=e;return{width:t,height:n,left:Number(r)/2,top:Number(i)/2,position:"fixed"}},maskArea:e=>{let{x:t,y:n,width:r,height:i}=e;return{x:t,y:n,width:r,height:i,fill:"black",rx:0}},maskRect:e=>{let{windowWidth:t,windowHeight:n,maskID:r}=e;return{x:0,y:0,width:t,height:n,fill:"currentColor",mask:"url(#".concat(r,")")}},clickArea:e=>{let{windowWidth:t,windowHeight:n,clipID:r}=e;return{x:0,y:0,width:t,height:n,fill:"currentcolor",pointerEvents:"auto",clipPath:"url(#".concat(r,")")}},highlightedArea:e=>{let{x:t,y:n,width:r,height:i}=e;return{x:t,y:n,width:r,height:i,pointerEvents:"auto",fill:"transparent",display:"none"}}},l=e=>{let{padding:t=10,wrapperPadding:n=0,onClick:l,onClickHighlighted:a,styles:u={},sizes:c,className:d,highlightedAreaClassName:m,maskId:h,clipId:f}=e,p=h||s("mask__"),x=f||s("clip__"),g=(e,t)=>{let n=o[e](t),r=u[e];return r?r(n,t):n},[v,w]=(0,i.tQ)(t),[b,k]=(0,i.tQ)(n),{w:j,h:y}=(0,i.Jj)(),E=(0,i.Tw)((null==c?void 0:c.width)+2*v),C=(0,i.Tw)((null==c?void 0:c.height)+2*w),z=(0,i.Tw)((null==c?void 0:c.top)-w-k/2),S=(0,i.Tw)((null==c?void 0:c.left)-v-b/2),A=j-b,P=y-k,N=g("maskArea",{x:S,y:z,width:E,height:C}),L=g("highlightedArea",{x:S,y:z,width:E,height:C});return r.createElement("div",{style:g("maskWrapper",{}),onClick:l,className:d},r.createElement("svg",{width:A,height:P,xmlns:"http://www.w3.org/2000/svg",style:g("svgWrapper",{windowWidth:A,windowHeight:P,wpx:b,wpy:k})},r.createElement("defs",null,r.createElement("mask",{id:p},r.createElement("rect",{x:0,y:0,width:A,height:P,fill:"white"}),r.createElement("rect",{style:N,rx:N.rx?1:void 0})),r.createElement("clipPath",{id:x},r.createElement("polygon",{points:"0 0, 0 ".concat(P,", ").concat(S," ").concat(P,", ").concat(S," ").concat(z,", ").concat(S+E," ").concat(z,", ").concat(S+E," ").concat(z+C,", ").concat(S," ").concat(z+C,", ").concat(S," ").concat(P,", ").concat(A," ").concat(P,", ").concat(A," 0")}))),r.createElement("rect",{style:g("maskRect",{windowWidth:A,windowHeight:P,maskID:p})}),r.createElement("rect",{style:g("clickArea",{windowWidth:A,windowHeight:P,top:z,left:S,width:E,height:C,clipID:x})}),r.createElement("rect",{style:L,className:m,onClick:a,rx:L.rx?1:void 0})))};function s(e){return e+Math.random().toString(36).substring(2,16)}},7846:function(e,t,n){"use strict";n.d(t,{At:function(){return g},Dz:function(){return s},EL:function(){return a},Fz:function(){return p},Jj:function(){return h},S1:function(){return d},Tw:function(){return m},XS:function(){return l},Xs:function(){return x},jF:function(){return f},ld:function(){return c},tQ:function(){return w},vq:function(){return v}});var r=n(2784),i=n(3771),o=n(7209),l=e=>{let{mutationObservables:t,resizeObservables:n,refresh:l}=e,[s,a]=(0,r.useState)(0),u=(0,r.useRef)(document.documentElement||document.body);function c(e){let n=Array.from(e);for(let e of n)if(t){if(!e.attributes)continue;let n=t.find(t=>e.matches(t));n&&l(!0)}}function d(e){let t=Array.from(e);for(let e of t)if(n){if(!e.attributes)continue;let t=n.find(t=>e.matches(t));t&&a(s+1)}}return(0,i.Z)(u,e=>{for(let t of e)0!==t.addedNodes.length&&(c(t.addedNodes),d(t.addedNodes)),0!==t.removedNodes.length&&(c(t.removedNodes),d(t.removedNodes))},{childList:!0,subtree:!0}),(0,r.useEffect)(()=>{if(!n)return;let e=new o.Z(()=>{l()});for(let t of n){let n=document.querySelector(t);n&&e.observe(n)}return()=>{e.disconnect()}},[n,s]),null};function s(e){let t=u;if(e){let n=e.getBoundingClientRect();t=n}return t}function a(e,t){let[n,i]=(0,r.useState)(u),o=(0,r.useCallback)(()=>{(null==e?void 0:e.current)&&i(s(null==e?void 0:e.current))},[null==e?void 0:e.current]);return(0,r.useEffect)(()=>(o(),window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)),[null==e?void 0:e.current,t]),n}var u={bottom:0,height:0,left:0,right:0,top:0,width:0,x:0,y:0};function c(e,t){return new Promise(n=>{if(!(e instanceof Element))throw TypeError("Argument 1 must be an Element");let r=0,i=null,o=Object.assign({behavior:"smooth"},t);e.scrollIntoView(o),requestAnimationFrame(function t(){let o=null==e?void 0:e.getBoundingClientRect().top;if(o===i){if(r++>2)return n(null)}else r=0,i=o;requestAnimationFrame(t)})})}function d(e,t){let{threshold:n=0,root:i=null,rootMargin:o="0%",freezeOnceVisible:l=!1}=t,[s,a]=(0,r.useState)(),u=(null==s?void 0:s.isIntersecting)&&l,c=e=>{let[t]=e;a(t)};return(0,r.useEffect)(()=>{let t=null==e?void 0:e.current,r=!!window.IntersectionObserver;if(!r||u||!t)return;let l=new IntersectionObserver(c,{threshold:n,root:i,rootMargin:o});return l.observe(t),()=>l.disconnect()},[e,JSON.stringify(n),i,o,u]),s}function m(e){return e<0?0:e}function h(){let e=Math.max(document.documentElement.clientWidth,window.innerWidth||0),t=Math.max(document.documentElement.clientHeight,window.innerHeight||0);return{w:e,h:t}}function f(e){let{top:t,right:n,bottom:r,left:i,threshold:o}=e,{w:l,h:s}=h(),{thresholdX:a,thresholdY:u}="object"==typeof o&&null!==o?{thresholdX:o.x||0,thresholdY:o.y||0}:{thresholdX:o||0,thresholdY:o||0};return t<0&&r-t>s||t>=0+u&&i>=0+a&&r<=s-u&&n<=l-a}var p=e=>/(left|right)/.test(e),x=(e,t)=>e>t,g=(e,t)=>e>t;function v(e){return Object.keys(e).map(t=>({position:t,value:e[t]})).sort((e,t)=>t.value-e.value).map(e=>e.position)}function w(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return Array.isArray(e)?e[0]?[e[0],e[1]?e[1]:e[0]]:[10,10]:[e,e]}},2228:function(e,t,n){"use strict";function r(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.d(t,{Z:function(){return r}})}},function(e){e.O(0,[420,931,165,774,888,179],function(){return e(e.s=1800)}),_N_E=e.O()}]);